<!DOCTYPE html>
<html>
<head>
<meta name=viewport content="width=device-width,initial-scale=1">
<script src="https://cdn.geogebra.org/apps/deployggb.js"></script>

</head>
<body>
<div id="ggbApplet"></div>
<button onclick='ggbApplet.setValue("validate",  true);'>validate = true</button>
<button onclick='ggbApplet.setValue("validate", false);'>validate = false</button>
<button onclick='ggbApplet.setValue("showanswer",  true);'>showanswer = true</button>
<button onclick='ggbApplet.setValue("showanswer", false);'>showanswer = false</button>
<button onclick='ggbApplet.setValue("showsolution",  true);'>showsolution = true</button>
<button onclick='ggbApplet.setValue("showsolution", false);'>showsolution = false</button>
<div id = "correct">correct = ?</div>


<script>

var width, height, id, beta, seed;

var getVars = [];
var locvartemp = ( window.location.href.indexOf( "?" ) + 1 ) ? window.location.href.substr( window.location.href.indexOf( "?" ) + 1 ) : "";
locvartemp=unescape(locvartemp);
locvartemp = locvartemp.split( "&" );
for( var x = 0; x < locvartemp.length; x++ ) {
    var lvTempVar = locvartemp[x].split( "=" );
    getVars[ unescape( lvTempVar[0] ) ] = unescape( lvTempVar[1] );
	try {
	console.log(locvartemp[x]);
	eval(locvartemp[x]);
	}
	catch (err) { 
		console.log(err);
		// eg cb="deploy50"
		eval(lvTempVar[0] + "='" + lvTempVar[1] + "'");
	} 
}

if (id === undefined) {
	id = prompt("Enter material id eg KdK6yXrU");
}
if (width === undefined) {
	width = prompt("Enter width eg 1050");
}
if (height === undefined) {
	height = prompt("Enter height eg 411");
}



function correctListener() {
console.log("correctListener");
document.getElementById("correct").innerHTML="correct = " + ((ggbApplet.getValue("correct")==0)?"false":"true");
}

var parameters = {
"id": "ggbApplet",
"width":width || 1050,
"height":height || 411,
"randomSeed":seed || 1,
"prerelease":beta,
"showMenuBar":false,
"showAlgebraInput":false,
"showToolBar":false,
"showToolBarHelp":false,
"showResetIcon":false,
"enableLabelDrags":false,
"enableShiftDragZoom":true,
"enableRightClick":false,
"errorDialogsActive":false,
"useBrowserForJS":false,
"allowStyleBar":false,
"preventFocus":false,
"showZoomButtons":false,
"capturingThreshold":3,
// add code here to run when the applet starts
"appletOnLoad":function(api){ 

api.registerObjectUpdateListener("correct", "correctListener");

 },
"showFullscreenButton":true,
"scale":1,
"disableAutoScale":false,
"allowUpscale":false,
"clickToLoad":false,
"appName":"classic",
"showSuggestionButtons":true,
"buttonRounding":0.7,
"buttonShadows":false,
 "material_id":id || "KdK6yXrU",
};
// is3D=is 3D applet using 3D view, AV=Algebra View, SV=Spreadsheet View, CV=CAS View, EV2=Graphics View 2, CP=Construction Protocol, PC=Probability Calculator DA=Data Analysis, FI=Function Inspector, macro=Macros
var views = {'is3D': 0,'AV': 1,'SV': 0,'CV': 0,'EV2': 0,'CP': 0,'PC': 0,'DA': 0,'FI': 0,'macro': 0};
var applet = new GGBApplet(parameters, '5.0', views);
if (beta) {
//applet.setHTML5Codebase("https://autotest2.geogebra.org/job/common-web-test/job/apps-1059/lastSuccessfulBuild/artifact/web/war/web3d/");
//applet.setHTML5Codebase("https://autotest2.geogebra.org/job/common-web-test/job/apps-1035-1144/lastSuccessfulBuild/artifact/web/war/web3d");
//applet.setHTML5Codebase("https://autotest2.geogebra.org/job/common-web-test/job/apps-1035/lastSuccessfulBuild/artifact/web/war/web3d");
//applet.setHTML5Codebase("https://autotest2.geogebra.org/job/common-web-test/job/master/lastSuccessfulBuild/artifact/web/war/web3d");

}
window.onload = function() {applet.inject('ggbApplet')};


</script>
</body>
</html>
